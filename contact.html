<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Favicon -->
    <!-- <link rel="" sizes="" href="" /> -->
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/reboot.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    <link rel="stylesheet" href="css/type.css">
    <link rel="stylesheet" href="css/grid.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/contact_form.css">
    <!-- Scripts -->

    <!--[if lt IE 9]>
	    <script src="js/html5shiv.js"></script>
    <![endif]-->
    <title>Contact &#8211; Eye Tech Eye Associates</title>
  </head>
  <body>
    <div class="grid">

      <header class="header non-sticky">
        <!-- Logo also the Home Button -->
        <a href="index.html" id="header-logo" class="logo"><img src="img/logo-black.png" alt="eyetech Logo" /></a>
        <!-- Hamberger Menu Button -->
        <input class="menu-btn" type="checkbox" id="menu-btn"/>
        <label class="menu-icon" for="menu-btn"><span class="navicon"></span></label>
        <nav class="nav">
          <ul>
            <!-- "About Submenu" -->
            <li><a href="#">About</a>
              <ul class="dropdown">
                <li><a href="ourpractice.html">Our Practice</a></li>
                <li><a href="technology.html">Technology</a></li>
              </ul>
            </li>
            <!-- "Services Submenu" -->
            <li><a href="#">Services</a>
              <ul class="dropdown">
                <li><a href="eyecare.html">Eye Care</a></li>
                <li><a href="insurance.html">Insurance</a></li>
              </ul>
            </li>
            <li><a href="contact.html" class="active">Contact</a></li>
          </ul>
        </nav>
      </header>

      <main>
        <!-- Contact Hero -->
        <section class="contact-hero">
          <div class="white-overlay">
            <div class="container">
              <h1>Contact us</h1>
              <p>to schedule an eye exam</p>
            </div>
          </div>
        </section>

        <!-- Contact Information/Form -->
        <section class="contact-us">
          <!-- Contact Form -->
          <div class="message-form">
            <h2>message</h2>
            <form action="#" id="contact_form" class="contact-form contact-grid" novalidate="novalidate">

              <div class="form-field name">
                <label class="label" for="fname">first name *</label>
                <input id="fname" type="text" required>
              </div>

              <div class="form-field name">
                <label class="label" for="lname">last name *</label>
                <input id="lname" type="text" required>
              </div>

              <div class="form-field email">
                <label class="label" for="email">email *</label>
                <input id="email" type="email" required>
              </div>

              <div class="form-field phone">
                <label class="label" for="phone">phone *</label>
                <input id="phone" type="tel" required>
              </div>

              <div class="form-field subject">
                <label class="label">subject *</label>
                <select name="subject" form="contact_form" required>
                  <option value="appointment" selected>Appointment</option>
                  <option value="cancellation">Cancellation</option>
                  <option value="testimonial">Testimonial</option>
                  <option value="order">Order</option>
                  <option value="other">Other</option>
                </select>
              </div>

              <div id="errorText" class="form-field"></div>

              <div class="form-field comment-box">
                <label class="label">message *</label>
                <textarea name="comment-box" id="message"></textarea>
              </div>

              <div class="submit-button">
                <button id="submit-btn" class="btn" type="submit" value="submit" onclick="validateForm()">submit</button>
              </div>

            </form>
          </div>
          <!-- Office Contact Hours -->
          <div class="contact-hours">
            <table>
              <h2>office hours</h2>
              <tr>
                <td>We are currently</td>
                <td id="clinicHours"></td>
              </tr>

              <tr>
                <td>Mon & Tue</td>
                <td>8:00am to 5:00pm</td>
              </tr>

              <tr>
                <td>Wed</td>
                <td>9:00am to 6:00pm</td>
              </tr>

              <tr>
                <td>Thu</td>
                <td>8:00am to 5:00pm</td>
              </tr>

              <tr>
                <td>Fri</td>
                <td>7:00am to 3:00pm</td>
              </tr>

              <tr>
                <td>Sat & Sun</td>
                <td>Closed</td>
              </tr>

            </table>
          </div>
          <!-- Phone Number -->
          <div class="call-us">
            <h3>give us a call</h3>
            <a href="tel:623-393-8324"><small>623-eye-tech</small></a>
          </div>

        </section>
        <!-- Google Map -->
        <div id="map"></div>
        <!-- Google Map Options-->
        <script>
          function initMap() {
            //Map Style Array
            var mapStyle = [
              {
                "stylers": [
                  {
                    "saturation": -100
                  },
                  {
                    "gamma": 1
                  }
                ]
              },
              {
                "elementType": "labels.text.stroke",
                "stylers": [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                "featureType": "administrative.neighborhood",
                "elementType": "labels.text.fill",
                "stylers": [
                  {
                    "color": "#333333"
                  }
                ]
              },
              {
                "featureType": "poi.business",
                "elementType": "labels.icon",
                "stylers": [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                "featureType": "poi.business",
                "elementType": "labels.text",
                "stylers": [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                "featureType": "poi.place_of_worship",
                "elementType": "labels.icon",
                "stylers": [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                "featureType": "poi.place_of_worship",
                "elementType": "labels.text",
                "stylers": [
                  {
                    "visibility": "off"
                  }
                ]
              },
              {
                "featureType": "road",
                "elementType": "geometry",
                "stylers": [
                  {
                    "visibility": "simplified"
                  }
                ]
              },
              {
                "featureType": "road.local",
                "elementType": "labels.text",
                "stylers": [
                  {
                    "color": "#333333"
                  },
                  {
                    "weight": 0.5
                  }
                ]
              },
              {
                "featureType": "transit.station",
                "elementType": "labels.icon",
                "stylers": [
                  {
                    "saturation": 50
                  },
                  {
                    "gamma": 1
                  }
                ]
              },
              {
                "featureType": "water",
                "stylers": [
                  {
                    "hue": "#50a5d1"
                  },
                  {
                    "saturation": 50
                  },
                  {
                    "visibility": "on"
                  }
                ]
              }
            ] //End of style array

            //Map Options
            var location = {lat: 33.651066, lng: -112.254376};
            var map = new google.maps.Map(document.getElementById("map"), {
              scrollwheel: false,
              mapTypeControl: false,
              zoom: 15,
              center: location,
              styles: mapStyle

            });

            //Map Marker
            var marker = new google.maps.Marker({
              position: location,
              map: map
              //icon: 'img/contact/mapMarker.png'
            });
          }
        </script>
        <!-- Google Map API Key --><!-- API Key: AIzaSyB2w3porQz8iG2azSecs1urt5yvmmLHi9g -->
        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB2w3porQz8iG2azSecs1urt5yvmmLHi9g&callback=initMap"
  type="text/javascript">
        </script>

      </main>

      <footer class="footer">
        <!-- Footer Contact Info -->
        <div class="contact-info">
          <!-- Address -->
          <div id="address" class="info-box">
            <i class="ion-ios-location-outline"></i>
            <h5>Address</h5>
              <address>
                <a href="https://www.google.com/maps/place/18431+N+91st+Ave+%231,+Peoria,+AZ+85382/@33.6510664,-112.2565643,17z/data=!3m1!4b1!4m5!3m4!1s0x872b42bbbc0027c9:0xd8ed8ce4322ca9d3!8m2!3d33.6510664!4d-112.2543756" target="_blank"><small>18431 N 91st Avenue, Ste 1 <br/>Peoria, AZ 85382</small></a>
              </address>
          </div>
          <!-- Phone Number -->
          <div id="phone" class="info-box">
            <i class="ion-iphone"></i>
            <h5>Phone</h5>
            <a href="tel:623-393-8324"><small>623-eye-tech</small></a>
          </div>
          <!-- Email -->
          <div id="email" class="info-box">
            <i class="ion-ios-email-outline"></i>
            <h5>Email</h5>
            <a href="contact.html"><small>Send us a message</small></a>
          </div>
          <!-- Website -->
          <div id="website" class="info-box">
            <i class="ion-android-globe"></i>
            <h5>Website</h5>
            <a href="index.html"><small>www.eyetecheyes.com</small></a>
          </div>
        </div>
        <!-- Footer Content - Left/Center/Right -->
        <div class="footer-content">
          <!-- Footer Left Side-->
          <div class="footer-left">
            <!-- Latest tweets -->
            <!--
            Twitter Widget Parameters:
            https://developer.twitter.com/en/docs/twitter-for-websites/timelines/guides/parameter-reference
            -->
            <h5>Latest Tweets</h5>
            <a class="twitter-timeline" data-height="380" data-theme="dark" data-link-color="#3DC5DF" data-chrome="noheader, nofooter, noborders, transparent, noscrollbar" href="https://twitter.com/EyeTechEyes?ref_src=twsrc%5Etfw">Tweets by EyeTechEyes</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
          </div>
          <!-- Foorter Center -->
          <div class="footer-center">
            <!-- Logo, Also the Home Button -->
            <a href="index.html" id="footer-logo" class="logo"><img src="img/logo-white.png" alt="white eyetech logo" /></a>
            <p>We work in a friendly and efficient environment using the latest technologies while sharing our expertise to make a diagnosis and implement cutting-edge therapies.</p>
            <!-- Social Icons -->
            <ul class="social-icons">
              <!-- facebook Font Awesome Icon -->
              <li class="facebook">
                <a href="https://www.facebook.com/search/top/?q=eyetecheyes" target="_blank">
                  <span class="fa-stack">
                    <i class="fa fa-circle fa-stack-2x fb"></i>
                    <i class="fab fa-facebook-f fa-stack-1x"></i>
                  </span>
                </a>
              </li>
              <!-- twitter Font Awesome Icon -->
              <li class="twitter">
                <a href="https://twitter.com/EyeTechEyes?lang=en" target="_blank">
                  <span class="fa-stack">
                    <i class="fa fa-circle fa-stack-2x tw"></i>
                    <i class="fab fa-twitter fa-stack-1x"></i>
                  </span>
                </a>
              </li>
              <!-- linkedin Font Awesome Icon -->
              <li class="linkedin">
                <a href="https://www.linkedin.com/company/eye-tech-eye-associates/" target="_blank">
                  <span class="fa-stack">
                    <i class="fa fa-circle fa-stack-2x in"></i>
                    <i class="fab fa-linkedin-in fa-stack-1x"></i>
                  </span>
                </a>
              </li>
            </ul>
            <!-- Newsletter Signup -->
            <div class="newsletter">
              <h5>register for our newsletter</h5>
              <form>
                <input type="email" required>
                <button class="btn-3" type="submit">Subscribe</button>
              </form>
            </div>
          </div>
          <!-- Footer Right Side -->
          <div class="footer-right">
            <!-- Patient Guide -->
            <div class="patient-guide">
              <h5>patient guide</h5>
              <ul>
                <li><a href="http://eyetech.myclstore.com/" target="_blank">Order contacts</a></li>
                <li><a href="contact.html">Schedule an appointment</a></li>
                <li><a href="content/Patient-Registration-2015-fillable.pdf" target="_blank">New patient forms</a></li>
                <li><a href="insurance.html">Insurance</a></li>
                <li><a href="eyecare.html">Eye care & diagnosis</a></li>
              </ul>
            </div>
            <!-- Office Hours -->
            <div class="office-hours">
              <h5>office hours</h5>
              <p>
                Mon & Tue
                <span>8:00am to 5:00pm</span>
              </p>
              <p>
                Wed
                <span>9:00am to 6:00pm</span>
              </p>
              <p>
                Thu
                <span>8:00am to 5:00pm</span>
              </p>
              <p>
                Fri
                <span>7:00am to 3:00pm</span>
              </p>
              <p>
                Sat & Sun
                <span>Closed</span>
              </p>
            </div>
          </div>
        </div>
        <!-- Copyright -->
        <div class="rights">
          <p>&copy; 2015-2018 Eye Tech Eye Associates. All Rights Reserved</p>
        </div>
      </footer>

    </div>
    <script>
// Chapter 3 Case Project
    // Reference: https://www.w3schools.com/jsref/jsref_getday.asp
    var now = new Date();

    // function to check the day and time to see if clinic is open or closed
    var checkTime = function() {
    var clinicHours = document.getElementById("clinicHours");
    var dayOfWeek = now.getDay(); // days go from 0-6/Sunday to Saturday
    var hour = now.getHours(); // hours = 24hr clock

    if (dayOfWeek == 0 || dayOfWeek == 6) {
    clinicHours.innerHTML =  "Closed";
    clinicHours.className = "closed"; // https://www.w3schools.com/jsref/prop_html_classname.asp
    // cant seem to get the color to change for some reason... I had it working
    }

    else if ((dayOfWeek == 1 || dayOfWeek == 2 || dayOfWeek == 4) && hour >= 8 && hour <= 17) {
      clinicHours.innerHTML = "Open";
      clinicHours.className = "open";
    }

    else if ((dayOfWeek == 3) && hour >= 9 && hour <= 18) {
      clinicHours.innerHTML = "Open";
      clinicHours.className = "open";
    }

    else if ((dayOfWeek == 5) && hour >= 7 && hour <= 15) {
      clinicHours.innerHTML = "Open";
      clinicHours.className = "open";
    }

      else {
        clinicHours.innerHTML = 'Closed';
        clinicHours.className = 'closed';
      }
    };
    // calls checkTime() at specified interval - https://www.w3schools.com/jsref/met_win_setinterval.asp
    setInterval(checkTime, 1000);
    checkTime();

// // Chapter 4 Case Project
// /*
// Could not figure out how to implement RegExp to validate emailEntry
// I added an else if with a RegExp to validateEmail() but it was always called no mattter what I tryed
// or viewed in the console
// */
//       function validateName() // function alerts user if name field is empty
//       {
//         try
//         {
//         var nameEntry = document.getElementById('name');
//         if (nameEntry.value === '') // checks to see if value is empty
//         {
//         throw 'Please enter your first and last name.';
//         }
//         }
//
//         catch(nameError)
//         {
//         window.alert(nameError)
//         return false;
//         }
//
//         finally
//         {
//         nameValid = true;
//         }
//         return true;
//       }
//
//
//       function validateEmail() // function alerts user if email field is empty
//       {
//
//         try
//         {
//         var emailEntry = document.getElementById('email');
//
//         if (emailEntry.value === '') // checks to see if value is empty
//         {
//         throw 'Please provide an email address.';
//         }
//
//         }
//
//         catch(emailError)
//         {
//         window.alert(emailError)
//         return false;
//         }
//
//         finally
//         {
//         emailValid = true;
//         }
//         return true;
//       }
//
//       function validatePhone() // function alerts user if phone # field is empty
//       {
//         try
//         {
//         var phoneEntry = document.getElementById('phone');
//
//         if (phoneEntry.value === '') // checks to see if value is empty
//         {
//         throw 'Please provide a phone number.';
//         }
//
//         }
//
//         catch(phoneError)
//         {
//         window.alert(phoneError)
//         return false;
//         }
//
//         finally
//         {
//         phoneValid = true;
//         }
//         return true;
//       }
//
//
//       function validateForm() // function runs when form is submitted
//       {
//         validateName();
//         validateEmail();
//         validatePhone();
//       }

/* Chapter 6 case project */
      'use strict'; // interpret document contents in JavaScript strict mode

      /* global variables */
      var formValidity = true;
      var errorDiv = document.getElementById('errorText');

      /* validate required fields */
    function validateRequired() {
      var inputElements = document.querySelectorAll('div.form-field input');
      var elementCount = inputElements.length;
      var requiredValidity = true;
      var currentElement;

      try {
      // validate all input elements in form
      for (var i = 0; i < elementCount; i++) {
      currentElement = inputElements[i];
      if (currentElement.value === '') {
        currentElement.style.background = 'rgb(255,233,233)';
        requiredValidity = false;
      } else {
        currentElement.style.background = 'rgb(247,247,247)';
      }
      }

      // validate select element
      currentElement = document.querySelector('select');
      if (currentElement.selectedIndex === -1) {
      currentElement.style.border = '1px solid tomato';
      requiredValidity = false;
      } else {
      currentElement.style.border = '';
      }

      // validate textarea element
      currentElement = document.querySelector('textarea');
      if (currentElement.value === '') {
      currentElement.style.background = 'rgb(255,233,233)';
      requiredValidity = false;
      } else {
      currentElement.style.background = 'rgb(247,247,247)';
      }

      if (requiredValidity === false) {
        throw 'Please complete all fields.'
      }
      errorDiv.style.display = 'none';
      errorDiv.innerHTML = '';
      }

      catch(msg) {
      errorDiv.style.display = 'block';
      errorDiv.innerHTML = msg;
      formValidity = false;
      }
      }

      /* validate textfield RegExp */
      function validateTextFields() {
        var inputElements = document.querySelectorAll('div.form-field input[type=text]');
        var elementCount = inputElements.length;
        var currentElement;

        try {
          for (var i = 0; i < elementCount; i++) {
            currentElement = inputElements[i];
            if (/^[a-zA-Z '-.,]*$/.test(currentElement.value) === false) {
              currentElement.style.background = 'rgb(255,233,233)';
              throw 'You can only enter letters, spaces, apostrophes, or dashes for a name';
            }
          }
        }

        catch(msg) {
        errorDiv.style.display = 'block';
        errorDiv.innerHTML = msg;
        formValidity = false;
        }
      }


      /* validate email RegExp */
      function validateEmail() {
        var emailInput = document.getElementById('email');

        try {
          if (/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(emailInput.value) === false) {
            emailInput.style.background = 'rgb(255,233,233)';
            throw 'Please enter a valid email address.';
          }

        }

        catch(msg) {
          errorDiv.style.display = 'block';
          errorDiv.innerHTML = msg;
          formValidity = false;
        }
      }

      /* validate phone RegExp*/
      function validatePhone() {
        var phoneInput = document.getElementById('phone');

        try {
          if(/^[(]{0,1}[0-9]{3}[)]{0,1}[-\s\.]{0,1}[0-9]{3}[-\s\.]{0,1}[0-9]{4}$/.test(phoneInput.value) === false) {
            phoneInput.style.background = 'rgb(255,233,233)';
            throw 'Plese enter a valid phone number.';
          }
        }

        catch(msg) {
          errorDiv.style.display = 'block';
          errorDiv.innerHTML = msg;
          formValidity = false;
        }
      }

      /* exclude xss entries in message input*/
      function validateMessage() {
        var messageInput = document.getElementById('message');

        try {
          if(/[*|\":<>[\]{}`\\();@&$]/.test(messageInput.value) === true) {
            messageInput.style.background = 'rgb(255,233,233)';
            throw 'NOPE, cant enter code here';
          }
        }

        catch(msg) {
          errorDiv.style.display = 'block';
          errorDiv.innerHTML = msg;
          formValidity = false;
        }
      }

      /* validate form */
      function validateForm(evt) {
      if (evt.preventDefault) {
      evt.preventDefault(); // prevent form from submitting
      } else {
      evt.returnValue = false; // prevent form from submitting in IE8
      }
      formValidity = true; // reset value for revalidation

      validateRequired();
      validateEmail();
      validatePhone();
      validateTextFields();
      validateMessage();

      if (formValidity === true) {
      document.getElementsByTagName('form')[0].submit();
      }
      }

      /* remove default values and formatting from subject selection list */
      function removeSelctedDefaults() {
      var emptyBoxes = document.getElementsByTagName('select');
      for (var i = 0; i < emptyBoxes.length; i++) {
      emptyBoxes[i].selectedIndex = -1;
      }
      }

      /* create event listeners */
      function createEventListeners() {
      var form = document.getElementsByTagName('form')[0];
      if (form.addEventListener) {
      form.addEventListener('submit', validateForm, false);
      } else if (form.attachEvent) {
      form.attachEvent('onsubmit', validateForm);
      }
      }

      /* run initial form configuration functions */
      function setUpPage() {
      removeSelctedDefaults();
      createEventListeners();
      }

      /* calls setUpPage() function when page finishes loading */
      if (window.addEventListener) {
      window.addEventListener('load', setUpPage, false);
      } else if (window.attachEvent) {
      window.attachEvent('onload', setUpPage);
      }


    </script>
  </body>
</html>
